# 法令API・MCP統合計画 - CEO報告書

**作成日**: 2025-12-14
**作成者**: Project Support Team
**文書番号**: PROP-2025-002
**分類**: 新規機能提案

---

## 1. エグゼクティブサマリー

### 1.1 提案概要

LifePlan Navigatorアプリケーションに、デジタル庁提供の**法令API Version2**および**法令MCP（AI連携ツール）**を統合し、ユーザーのライフステージに応じた法令情報を自動提供する機能を追加することを提案します。

### 1.2 期待される効果

| 効果 | 説明 |
|------|------|
| **ユーザー価値向上** | 法律変更時の自動通知、ライフイベントに関連する法令情報の提供 |
| **差別化要因** | 競合サービスにない法令情報との連携機能 |
| **行政連携** | 将来的な行政サービスとの連携基盤構築 |

### 1.3 CEO承認事項

1. 法令API統合プロジェクトの開始承認
2. 必要リソース（開発工数、インフラ費用）の概算承認
3. Phase 2スコープへの追加承認

---

## 2. 法令API・MCPツールの概要

### 2.1 法令API Version2

**提供元**: デジタル庁 / e-Gov法令検索
**URL**: https://laws.e-gov.go.jp/api/2/swagger-ui

| 機能 | 説明 |
|------|------|
| キーワード検索 | 法令本文から関連条文を検索 |
| 法令名検索 | 法令タイトルで検索 |
| 法令本文取得 | 法令IDから全文・条文を取得 |
| 時点指定 | 特定日時点の法令を取得 |

### 2.2 法令MCP（AI連携ツール）

**所在**: `need/laws-api-ai-mcp-tool/`

法令APIをAIエージェントから効率的に活用するためのMCPサーバー実装。

| 機能 | AI活用ポイント |
|------|---------------|
| 表記揺れ対応 | 一般用語→法令用語の変換をAI側で実施 |
| 検索ガイダンス | 段階的検索戦略を提供 |
| 結果分析 | 検索結果の関連性評価と次アクション提案 |

### 2.3 技術的特性

**重要**: 法令APIは表記揺れを考慮しないため、AI側での対応が必要

```
例: 「シートベルト」で検索 → 関税法がヒット（不適切）
    「座席ベルト」で検索 → 道路交通法がヒット（正解）
```

---

## 3. LifePlan Navigatorへの統合計画

### 3.1 統合アーキテクチャ

```
┌─────────────────────────────────────────────────────────────────┐
│                    LifePlan Navigator                            │
├─────────────────────────────────────────────────────────────────┤
│  ┌──────────────┐    ┌──────────────┐    ┌──────────────┐      │
│  │ User Profile │    │ Life Events  │    │  Benefits    │      │
│  │   (収集済み)  │    │  (予定情報)   │    │   (既存)     │      │
│  └──────┬───────┘    └──────┬───────┘    └──────────────┘      │
│         │                  │                                    │
│         ▼                  ▼                                    │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │           Laws Context Engine (新規)                     │   │
│  │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐      │   │
│  │  │ Life Stage  │  │ Keyword     │  │ Change      │      │   │
│  │  │ Analyzer    │  │ Translator  │  │ Detector    │      │   │
│  │  └─────────────┘  └─────────────┘  └─────────────┘      │   │
│  └──────────────────────────┬──────────────────────────────┘   │
│                             │                                   │
│                             ▼                                   │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │           Laws MCP Server                                │   │
│  │  - search_laws_by_keyword()                              │   │
│  │  - search_laws_by_title()                                │   │
│  │  - get_law_content()                                     │   │
│  │  - analyze_search_results()                              │   │
│  └──────────────────────────┬──────────────────────────────┘   │
│                             │                                   │
└─────────────────────────────┼───────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────────┐
│                   e-Gov 法令API Version2                         │
│                 (デジタル庁 / 政府提供)                          │
└─────────────────────────────────────────────────────────────────┘
```

### 3.2 ユースケース例

| ユーザー属性 | トリガー | 提供情報 |
|-------------|---------|---------|
| 子育て世代 | 子供の年齢更新 | 児童手当の変更、幼児教育無償化、就学に関する法令 |
| 住宅購入予定 | ライフイベント登録 | 住宅ローン減税、不動産取得税、建築基準法 |
| 転職予定 | ライフイベント登録 | 雇用保険、年金切り替え、失業給付 |
| 相続発生 | ライフイベント登録 | 相続税法、遺産分割、死亡届関連 |

### 3.3 動物テーマ（Zoo）の統合

要件に基づき、法令情報提供UIを動物テーマで表現：

| 情報カテゴリ | 動物アイコン | 理由 |
|-------------|-------------|------|
| 税金・控除 | フクロウ | 知恵の象徴、複雑な税制を賢くナビゲート |
| 社会保険 | カメ | 堅実さ、長期的な保障を象徴 |
| 子育て支援 | カンガルー | 子育ての象徴、育児関連サポート |
| 住宅関連 | ビーバー | 建築・家づくりの象徴 |
| 就労・転職 | ミツバチ | 勤勉さ、働くことの象徴 |
| 年金・老後 | ゾウ | 長寿、長期記憶の象徴 |

---

## 4. 新規ユーザー情報収集機能

### 4.1 オンボーディングフロー

```
┌─────────────┐    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│  Step 1     │───▶│  Step 2     │───▶│  Step 3     │───▶│  Step 4     │
│  基本情報   │    │  住まい     │    │  家族構成   │    │  今後の予定 │
└─────────────┘    └─────────────┘    └─────────────┘    └─────────────┘
     │                  │                  │                  │
     ▼                  ▼                  ▼                  ▼
  ・年齢             ・賃貸/持ち家      ・一人暮らし       ・副業開始
  ・働き方           ・実家/社宅        ・配偶者有無       ・転職予定
  ・メール           ・居住地域         ・子供の有無/年齢  ・住宅購入
                                                           ・相続予定
```

### 4.2 データ項目

| 項目 | 型 | 用途 |
|------|-----|------|
| age | number | 年齢に応じた法令・給付金検索 |
| employment_type | enum | 社会保険・税制の適用判定 |
| residence_type | enum | 住居支援・控除の判定 |
| region | string | 地域別制度の検索 |
| family_composition | object | 扶養控除・子育て支援の判定 |
| planned_events | array | ライフイベントに応じた法令情報 |
| email | string | 通知・リマインド送信 |

### 4.3 セキュリティ考慮事項

CISO設計済みの暗号化・認証基盤を活用：
- フィールドレベル暗号化（AES-256-GCM）
- RBAC（ロールベースアクセス制御）
- 監査ログの記録

---

## 5. 実装スケジュール案

### Phase 2-A: 基盤構築（法令API統合）

| タスク | 担当 | 工数見込み |
|--------|------|-----------|
| Laws MCP Server統合 | App Engineer | 中 |
| Laws Context Engine開発 | App Engineer | 大 |
| 表記揺れ辞書構築 | CTI Analyst（調査） | 小 |
| セキュリティレビュー | CISO | 小 |

### Phase 2-B: ユーザー体験構築

| タスク | 担当 | 工数見込み |
|--------|------|-----------|
| オンボーディングUI | App Engineer | 中 |
| 動物テーマデザイン | App Engineer | 中 |
| ユーザー情報DB設計 | CTO | 小 |
| プライバシーポリシー更新 | CLO | 小 |

### Phase 2-C: 通知機能

| タスク | 担当 | 工数見込み |
|--------|------|-----------|
| 法令変更検知システム | App Engineer | 大 |
| 通知配信基盤 | Network Engineer | 中 |
| メールテンプレート | CMO | 小 |

---

## 6. リスク評価

### 6.1 技術リスク

| リスク | 影響度 | 対策 |
|--------|--------|------|
| 法令API可用性 | 中 | キャッシュ機構の実装、フォールバック表示 |
| 表記揺れによる検索精度 | 中 | 辞書整備、AI補正ロジックの継続改善 |
| レスポンス時間 | 低 | 非同期処理、プリフェッチ |

### 6.2 法務リスク

| リスク | 影響度 | 対策 |
|--------|--------|------|
| 法令解釈の誤り | 高 | 免責事項の明示、専門家相談への誘導 |
| 情報の最新性 | 中 | 「参考情報」としての位置づけ明示 |

**CLO確認必須**: 法令情報提供に関する免責事項の追加が必要

### 6.3 セキュリティリスク

| リスク | 影響度 | 対策 |
|--------|--------|------|
| 個人情報との紐付け | 高 | CISO設計の暗号化・アクセス制御を適用 |

---

## 7. 次のステップ（CEO承認後）

1. **CLO**: 法令情報提供に関する免責事項の追加検討
2. **CTO**: 技術アーキテクチャの詳細設計
3. **App Engineer**: Laws MCP Server統合のPoC開発
4. **CFO**: Phase 2予算の詳細見積もり
5. **CMO**: 動物テーマのデザインガイドライン策定

---

## 8. 承認欄

| 役職 | 承認 | 日付 | コメント |
|------|------|------|----------|
| CEO | □ | | |
| CTO | □ | | |
| CLO | □ | | |

---

**文書終了**

*本提案は、need/need-new.txt および need/need.txt の要件に基づき作成されました。*
